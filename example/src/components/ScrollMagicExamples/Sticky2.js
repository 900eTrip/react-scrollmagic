// @flow
import React from 'react';
import styled from 'styled-components';
import { SMController, SMScene } from 'react-scrollmagic';

const Sticky2Styled = styled.div`
  overflow: hidden;

  .section {
    height: 70vh;
    background: linear-gradient(160deg, #f47c66 0%,#e51906 100%);
  }
  
  .sticky, .sticky2 {
    height: 100vh;
    background: linear-gradient(160deg, #e4f5fc 0%,#bfe8f9 26%,#9fd8ef 59%,#0068f2 100%);
    width: 100%;

    & .animation, .animation2 {
      width: 100%;
      height: 100%;
      position: absolute;

      & svg {
        opacity: 0;
        position: absolute;
        width: 300px;
        height: 300px;
      }
    }

    .heading {
      position: absolute;
      height: 100%;
      width: 100%;

      h2 {
        font-size: 40px;
        position: absolute;
        bottom: 10%;
        left: 10%;
        margin: 0;
      }
    }

  }
`;

const Sticky2 = () => (
  <Sticky2Styled>
    <div className="section" />
    <SMController>
      <SMScene
        duration={2000}
        pin=".sticky"
        triggerElement=".sticky"
        triggerHook="onLeave"
        indicators={false}
      />
      <SMScene
        triggerElement=".sticky"
        triggerHook="onLeave"
        duration={1000}
        offset={1000}
        timeline={{
          tweens: [
            {
              target: '.heading',
              duration: 0.1,
              from: {
                css: {
                  opacity: 0,
                }
              },
              to: {
                css: {
                  opacity: 1,
                }
              },
            },
            {
              target: '.heading',
            },
            {
              target: '.heading',
              duration: 0.4,
              to: {
                css: {
                  left: '110%',
                }
              },
            },
          ],
        }}
      />
      <SMScene
        triggerElement=".sticky"
        triggerHook="onLeave"
        duration={2000}
        timeline={{
          tweens: [
            {
              target: '.animation svg',
              duration: 0.2,
              from: {
                css: {
                  opacity: 0,
                }
              },
              to: {
                css: {
                  opacity: 1,
                }
              },
            },
            {
              target: '.animation svg',
              duration: 0.8,
              from: {
                css: {
                  left: '10%',
                  top: '60%',
                }
              },
              to: {
                css: {
                  left: '60%',
                  top: '10%',
                }
              },
            },
            {
              target: '.animation svg',
              duration: 0.2,
              to: {
                css: {
                  opacity: 0,
                }
              },
            },
          ],
        }}
      />
      <div className="sticky">
        <div className="heading">
          <h2>This is a cool heading</h2>
        </div>
        <div className="animation">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29.267 29.267">
            <path d="M25.925 13.574c.405.173.928.295 1.571.366.295.025.579.036.86.036.326 0 .632-.018.911-.054-.351.329-.803.614-1.349.857-.552.244-1.262.365-2.138.365a9.544 9.544 0 0 1-2.23 4.028c-1.082 1.188-2.37 2.169-3.862 2.943s-3.131 1.312-4.926 1.617c-1.01.182-2.019.272-3.033.272-.765 0-1.533-.055-2.297-.164a15.456 15.456 0 0 1-5.118-1.617C2.669 21.378 1.232 20.169 0 18.599a7.4 7.4 0 0 0 2.433 1.435 8.417 8.417 0 0 0 5.828-.037 7.352 7.352 0 0 0 2.594-1.672 2.821 2.821 0 0 1-.441.036c-.279 0-.534-.049-.764-.146-.367-.146-.62-.345-.757-.594-.142-.249-.142-.524 0-.823.137-.298.493-.562 1.067-.792a5.375 5.375 0 0 1-.566.034c-.283 0-.544-.024-.783-.07a3.205 3.205 0 0 1-1.052-.375 3.369 3.369 0 0 1-.743-.577 3.723 3.723 0 0 1-.494-.66 2.57 2.57 0 0 1 .823-.499c.305-.116.706-.188 1.205-.211-1.118-.243-1.917-.606-2.391-1.078-.475-.475-.777-1.022-.895-1.643.33-.051.657-.108.994-.174.333-.069.6-.076.796-.029-.953-.475-1.614-1.029-1.994-1.662-.327-.559-.492-1.085-.492-1.572 0-.061.006-.127.019-.201a72.606 72.606 0 0 1 4.337 1.644c1.177.501 2.221.988 3.134 1.465.353.142.704.361 1.06.655l1.151.989a21.586 21.586 0 0 1 1.854-3.766c.359-.583.762-1.121 1.213-1.608a6.278 6.278 0 0 1 1.534-1.205c-.023.278-.167.555-.436.822.33-.278.685-.503 1.067-.677.387-.17.792-.283 1.216-.345-.049.28-.248.51-.604.685a8.51 8.51 0 0 1-.93.41c.096-.023.29-.087.574-.189.287-.104.592-.2.915-.283.326-.086.615-.144.879-.164.26-.025.417.021.464.145.072.146.03.271-.127.374a2.52 2.52 0 0 1-.577.267 7.996 7.996 0 0 1-.673.182c-.227.05-.375.086-.447.108l-.677.237a5.371 5.371 0 0 1 2.045.237 5.707 5.707 0 0 1 1.81.953 7.213 7.213 0 0 1 1.441 1.497 6.09 6.09 0 0 1 .914 1.844l.074.293c.021.097.048.205.072.326.244.076.535.12.879.139.34.017.677 0 1.014-.055.332-.054.637-.123.909-.209.276-.085.494-.165.651-.237-.194.476-.569.874-1.124 1.196-.557.32-1.249.505-2.074.555z"/>
          </svg>
        </div>
      </div>
      <div className="section" />
      <SMScene
        duration={2000}
        pin=".sticky2"
        triggerElement=".sticky2"
        triggerHook="onLeave"
        indicators={false}
      >
        <SMScene
          triggerHook="onLeave"
          duration={0}
          reverse={false}
          timeline={{
            tweens: [
              {
                target: '.animation2 svg',
                duration: 0.5,
                from: {
                  css: {
                    opacity: 0,
                  }
                },
                to: {
                  css: {
                    opacity: 1,
                  }
                },
              },
              {
                target: '.animation2 svg',
                duration: 2,
                from: {
                  css: {
                    left: '60%',
                    top: '60%',
                  }
                },
                to: {
                  bezier:{
                    autoRotate: 90,
                    values: [
                      { left: '80%', top: '40%' },
                      { left: '40%', top: '20%' },
                      { left: '110%', top: '10%' },
                    ]
                  }
                },
              },
            ],
          }}
        >
          <div className="sticky2">
            <div className="animation2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 297">
              <path d="M147.655 71.797c-17.947 0-32.548 14.601-32.548 32.548 0 17.947 14.601 32.548 32.548 32.548 17.947 0 32.548-14.601 32.548-32.548 0-17.947-14.6-32.548-32.548-32.548zm0 49.779c-9.501 0-17.231-7.73-17.231-17.231 0-9.501 7.73-17.231 17.231-17.231 9.501 0 17.231 7.73 17.231 17.231 0 9.501-7.73 17.231-17.231 17.231z"/>
              <path d="M245.437 183.301c-9.288-14.255-20.467-20.807-26.304-23.446 3.134-20.065 4.186-40.095 1.127-57.195-11.111-62.118-64.927-99.438-67.212-100.997a9.577 9.577 0 0 0-10.786 0c-2.285 1.558-56.101 38.879-67.211 100.996-3.096 17.312-1.979 37.627 1.246 57.941-6.122 3.043-16.221 9.637-24.734 22.7-16 24.555-18.687 59.459-7.985 103.742a9.575 9.575 0 0 0 14.74 5.633l46.663-32.181a287.586 287.586 0 0 0 2.273 5.549 9.573 9.573 0 0 0 8.81 5.828h22.018v15.556a9.573 9.573 0 0 0 19.146 0v-15.556h22.018a9.573 9.573 0 0 0 8.81-5.828c.237-.558 1.193-2.828 2.637-6.464l47.989 33.096a9.58 9.58 0 0 0 8.852 1.062 9.575 9.575 0 0 0 5.888-6.695c10.701-44.282 8.015-79.186-7.985-103.741zM147.655 21.617c6.194 5.032 16.822 14.516 27.123 27.684h-54.246c10.303-13.171 20.932-22.654 27.123-27.684zm-88.39 247.148c-10.448-57.725 9.367-80.269 20.823-88.232 5.157 23.501 12.272 45.624 17.937 61.501l-38.76 26.731zm113.526-16.04h-15.563V176.86a9.573 9.573 0 0 0-19.146 0v75.865h-15.567c-8.574-21.734-37.118-99.175-28.618-146.695 2.785-15.569 8.839-29.477 16.051-41.413h75.413c7.212 11.936 13.267 25.844 16.051 41.413 8.489 47.465-20.048 124.948-28.621 146.695zm64.945 16.04l-40.116-27.666c5.688-16.028 12.744-38.143 17.816-61.546 11.11 7.005 33.212 28.918 22.3 89.212z"/>
            </svg>
            </div>
          </div>
        </SMScene>
      </SMScene>
      <div className="section" />
    </SMController>
  </Sticky2Styled>
);

export default Sticky2;
